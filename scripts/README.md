# Scripts è¯´æ˜

æœ¬ç›®å½•åŒ…å«é¡¹ç›®ç›¸å…³çš„è„šæœ¬å·¥å…·ã€‚

## éªŒè¯è„šæœ¬

### test-npm-package.js - NPMåŒ…å®Œæ•´éªŒè¯

**ç”¨é€”ï¼š** åœ¨æœ¬åœ°éªŒè¯npmåŒ…çš„å®Œæ•´æµç¨‹ï¼Œç¡®ä¿å‘å¸ƒåå¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
npm run test:npm-package
```

**éªŒè¯æ­¥éª¤ï¼š**
1. âœ… è¿è¡Œå‘å¸ƒå‰éªŒè¯ï¼ˆlint, test, build, securityï¼‰
2. ğŸ“¦ æ‰“åŒ…npmåŒ…
3. ğŸ“¥ å®‰è£…npmåŒ…åˆ°ä¸´æ—¶ç›®å½•
4. ğŸš€ å¯åŠ¨æœåŠ¡
5. ğŸ§ª æµ‹è¯•APIå“åº”
6. ğŸ§¹ æ¸…ç†ä¸´æ—¶æ–‡ä»¶

**é€‚ç”¨åœºæ™¯ï¼š**
- å‘å¸ƒnpmåŒ…å‰çš„æœ€ç»ˆéªŒè¯
- æ·»åŠ æ–°ä¾èµ–åçš„æµ‹è¯•
- ä¿®æ”¹package.jsonåçš„éªŒè¯
- ç¡®ä¿npmåŒ…å¯ä»¥æ­£å¸¸å®‰è£…å’Œè¿è¡Œ

**è¯¦ç»†æ–‡æ¡£ï¼š** è§ [NPM_PACKAGE_VERIFICATION.md](../docs/dev/NPM_PACKAGE_VERIFICATION.md)

---

## å‘å¸ƒç›¸å…³è„šæœ¬

### verify-publish.js - å‘å¸ƒå‰éªŒè¯

**ç”¨é€”ï¼š** éªŒè¯npmåŒ…å‘å¸ƒå‰çš„å„é¡¹æ£€æŸ¥ã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
npm run verify:publish
```

**æ£€æŸ¥é¡¹ç›®ï¼š**
- ä»£ç è´¨é‡ï¼ˆESLint, Prettierï¼‰
- å•å…ƒæµ‹è¯•
- æ„å»ºäº§ç‰©
- å®‰å…¨å®¡è®¡
- æ–‡ä»¶å®Œæ•´æ€§
- ç‰ˆæœ¬ä¸€è‡´æ€§
- **ä¾èµ–å®Œæ•´æ€§**ï¼ˆæ–°å¢ï¼‰

---

## å…¶ä»–è„šæœ¬

### build-icons.js - æ„å»ºåº”ç”¨å›¾æ ‡

**ç”¨é€”ï¼š** ä¸ºæ¡Œé¢åº”ç”¨æ„å»ºå›¾æ ‡æ–‡ä»¶ã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
npm run build:icons
```

### preinstall-check.js - é¢„å®‰è£…æ£€æŸ¥

**ç”¨é€”ï¼š** åœ¨å®‰è£…ä¾èµ–å‰æ£€æŸ¥ç¯å¢ƒã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
npm run setup:env
```

### postinstall.js - å®‰è£…åå¤„ç†

**ç”¨é€”ï¼š** npm installåè‡ªåŠ¨æ‰§è¡Œï¼Œé‡å»ºnode-ptyæ¨¡å—ã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
npm install
# è‡ªåŠ¨æ‰§è¡Œ
```

### verify-build.js - æ„å»ºéªŒè¯

**ç”¨é€”ï¼š** éªŒè¯æ„å»ºäº§ç‰©æ˜¯å¦å®Œæ•´ã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
npm run verify:build
```

### pre-release-check.js - å‘å¸ƒå‰æ£€æŸ¥

**ç”¨é€”ï¼š** å‘å¸ƒå‰çš„é¢„æ£€æŸ¥ã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
npm run release:pre-check
```

### update-version.js - æ›´æ–°ç‰ˆæœ¬

**ç”¨é€”ï¼š** æ›´æ–°é¡¹ç›®ç‰ˆæœ¬å·ã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
npm run release:update-version
```

### rollback-release.js - å›æ»šå‘å¸ƒ

**ç”¨é€”ï¼š** å›æ»šnpmåŒ…å‘å¸ƒã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
npm run release:rollback
```

---

## Shellè„šæœ¬

### build.sh - æ„å»ºè„šæœ¬

**ç”¨é€”ï¼š** ç»Ÿä¸€çš„æ„å»ºå…¥å£è„šæœ¬ã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
bash scripts/build.sh
```

### check-dependencies.sh - æ£€æŸ¥ä¾èµ–

**ç”¨é€”ï¼š** æ£€æŸ¥å¹¶å®‰è£…æ‰€æœ‰ä¾èµ–ã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
npm run check:deps
```

### check-env.sh - æ£€æŸ¥ç¯å¢ƒ

**ç”¨é€”ï¼š** æ£€æŸ¥å¼€å‘ç¯å¢ƒé…ç½®ã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
npm run check:env
```

### clean-environment.sh - æ¸…ç†ç¯å¢ƒ

**ç”¨é€”ï¼š** æ¸…ç†ç¼“å­˜ã€ä¾èµ–æˆ–æ„å»ºäº§ç‰©ã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
npm run clean              # å®Œå…¨æ¸…ç†
npm run clean:cache        # ä»…æ¸…ç†ç¼“å­˜
npm run clean:deps         # ä»…æ¸…ç†ä¾èµ–
npm run clean:build        # ä»…æ¸…ç†æ„å»ºäº§ç‰©
```

---

## æ³¨æ„äº‹é¡¹

1. **è„šæœ¬æƒé™**ï¼šæ‰€æœ‰ `.js` è„šæœ¬éƒ½åº”è¯¥æœ‰æ‰§è¡Œæƒé™
2. **Nodeç‰ˆæœ¬**ï¼šç¡®ä¿ä½¿ç”¨ Node.js v22.x
3. **ä¾èµ–å®‰è£…**ï¼šè¿è¡Œè„šæœ¬å‰ç¡®ä¿ä¾èµ–å·²å®‰è£…
4. **ç«¯å£å ç”¨**ï¼šéªŒè¯è„šæœ¬ä½¿ç”¨ç«¯å£5621ï¼Œç¡®ä¿æœªè¢«å ç”¨
5. **æ¸…ç†æœºåˆ¶**ï¼šè„šæœ¬ä¼šè‡ªåŠ¨æ¸…ç†ä¸´æ—¶æ–‡ä»¶ï¼Œæ— éœ€æ‰‹åŠ¨å¤„ç†

---

## è´¡çŒ®æŒ‡å—

æ·»åŠ æ–°è„šæœ¬æ—¶ï¼š
1. æ·»åŠ æ‰§è¡Œæƒé™ï¼š`chmod +x scripts/your-script.js`
2. åœ¨ `package.json` ä¸­æ·»åŠ npm script
3. åœ¨æ­¤READMEä¸­æ·»åŠ è¯´æ˜
4. å¦‚æœæ˜¯éªŒè¯è„šæœ¬ï¼Œè€ƒè™‘æ·»åŠ åˆ° `test-npm-package.js` æµç¨‹ä¸­

---

## ç›¸å…³æ–‡æ¡£

- [å¼€å‘æ–‡æ¡£](../docs/dev/)
- [AGENTS.md](../AGENTS.md)
- [README.md](../README.md)