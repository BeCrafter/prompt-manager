<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Prompt Manager 后台</title>
  <link rel="stylesheet" href="./css/codemirror.css">
  <link rel="stylesheet" href="./css/codemirror-theme_xq-light.css">
  <style> 
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <!-- 登录界面 -->
  <div id="login" class="login-container" style="display: none;">
    <form id="loginForm" class="login-form">
      <div class="login-box">
        <h2>Prompt Manager</h2>
        <div class="input-group username">
          <input type="text" id="username" name="username" placeholder="用户名" autocomplete="username" />
        </div>
        <div class="input-group password">
          <input type="password" id="password" name="password" placeholder="密码" autocomplete="current-password" />
        </div>
        <button type="submit" id="loginBtn" class="btn btn-primary">登&nbsp;&nbsp;&nbsp;&nbsp;录</button>
        <div id="loginError" class="error-msg" style="display: none; margin-top: 15px;"></div>
      </div>
    </form>
  </div>

  <!-- 主界面 -->
      <!-- 类目管理弹窗 -->
    <div id="newFolderModal" class="modal hidden">
      <div class="modal-dialog">
        <div class="modal-content group-modal-content">
          <div class="modal-header">
            <h3>类目管理</h3>
            <button type="button" class="modal-close" onclick="toggleNewFolderModal()">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M15 5L5 15M5 5L15 15" stroke="currentColor" stroke-width="1.67" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
          </div>
          <div class="modal-body">
            <div class="group-modal-tabs">
              <button type="button" class="group-modal-tab active" data-tab="create">新增类目</button>
              <button type="button" class="group-modal-tab" data-tab="manage">管理类目</button>
            </div>
            <div class="group-modal-panel" data-panel="create">
              <div class="form-group">
                <label>目录名称</label>
                <input type="text" id="newFolderName" name="folderName" placeholder="请输入目录名称" onkeydown="handleNewFolderKeydown(event)">
                <div class="group-modal-hint">名称仅支持字母、数字、下划线、短横线和中文，长度不超过64个字符。</div>
              </div>
              <div class="form-group">
                <label>父级目录</label>
                <select id="newFolderParent" class="form-control">
                  <option value="">根目录</option>
                </select>
                <div class="group-modal-hint">选择父级目录以创建子目录</div>
              </div>
            </div>
            <div class="group-modal-panel hidden" data-panel="manage">
              <div class="group-manage-toolbar">
                <input type="text" id="groupManageSearch" placeholder="搜索类目..." />
                <button type="button" class="btn btn-light btn-sm" id="groupManageRefreshBtn">刷新</button>
              </div>
              <div class="group-manage-list" id="groupManageList"></div>
              <div class="group-manage-empty hidden" id="groupManageEmpty">暂无类目信息</div>
            </div>
          </div>
          <div class="modal-footer">
            <div class="group-modal-footer group-modal-footer-create" id="groupModalCreateFooter">
              <button type="button" class="btn btn-light" onclick="toggleNewFolderModal()">取消</button>
              <button type="button" class="btn btn-dark" onclick="createNewFolder()">创建</button>
            </div>
            <div class="group-modal-footer group-modal-footer-manage hidden" id="groupModalManageFooter">
              <button type="button" class="btn btn-light" onclick="toggleNewFolderModal(false)">关闭</button>
            </div>
          </div>
        </div>
      </div>
    </div>

  <div id="main" style="display: none; height: 100vh; flex-direction: column;">
    <!-- 顶部导航 -->
    <header>
      <div class="logo">
        Prompt Manager <span>Beta</span>
      </div>
      <div class="nav-right">
        <div class="user-profile">
          <button class="avatar-btn" id="avatarBtn" aria-haspopup="true" aria-expanded="false">
            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%239ca3af'%3E%3Cpath d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z'/%3E%3C/svg%3E" alt="用户头像" class="avatar-img">
          </button>
          <div class="dropdown-menu" id="userMenu">
            <div class="dropdown-header">
              <div class="user-info">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%239ca3af'%3E%3Cpath d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z'/%3E%3C/svg%3E" alt="用户头像" class="user-avatar">
                <div class="user-details">
                  <div class="user-name">管理员</div>
                  <div class="user-role">Admin</div>
                </div>
              </div>
            </div>
            <div class="dropdown-divider"></div>
            <button id="logoutBtn" class="dropdown-item">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="dropdown-icon"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>
              退出登录
            </button>
          </div>
        </div>
      </div>
    </header>

    <!-- 主体内容 -->
    <main>
      <!-- 一级导航 -->
      <nav class="primary-nav">
        <div class="primary-nav-items">
          <button class="primary-nav-item active" data-nav="prompts" title="Prompts">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
              <polyline points="14 2 14 8 20 8"></polyline>
              <line x1="16" y1="13" x2="8" y2="13"></line>
              <line x1="16" y1="17" x2="8" y2="17"></line>
              <polyline points="10 9 9 9 8 9"></polyline>
            </svg>
            <span>Prompts</span>
          </button>
          <button class="primary-nav-item" data-nav="tools" title="Tools">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>
            </svg>
            <span>Tools</span>
          </button>
        </div>
      </nav>
      
      <!-- 左侧边栏 -->
      <aside id="promptsSidebar">
        <div class="sidebar-header">
          <button id="newPromptBtn" class="new-prompt-btn">
            新建 Prompt
          </button>
          <div class="search-container">
            <div class="search-box">
              <input type="text" id="searchInput" name="searchInput" placeholder="搜索提示词..." autocomplete="off" />
              <button type="button" class="clear-btn" title="清除搜索"></button>
            </div>
            <button id="newGroupBtn" class="folder-btn" title="新建目录">
            </button>
          </div>
        </div>
        
        <div id="groupList"></div>
      </aside>

      <!-- 工具区域（默认隐藏） -->
      <div id="toolsArea" class="tools-area" style="display: none;">
        <!-- 工具页面头部 -->
        <div class="tools-header">
          <div class="tools-header-left">
            <h2 class="tools-title">工具管理</h2>
            <div class="tools-search">
              <input type="text" id="toolsSearchInput" placeholder="搜索工具名称或描述..." />
              <button type="button" class="search-clear-btn" id="toolsSearchClear" style="display: none;">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <line x1="18" y1="6" x2="6" y2="18"></line>
                  <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
              </button>
            </div>
          </div>
          <div class="tools-header-right">
            <button type="button" class="btn btn-outline" id="toolsUploadBtn">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                <polyline points="17 8 12 3 7 8"></polyline>
                <line x1="12" y1="3" x2="12" y2="15"></line>
              </svg>
              上传工具包
            </button>
            <div class="tools-filter">
              <button type="button" class="filter-btn active" data-filter="all">
                全部
              </button>
              <button type="button" class="filter-btn" data-filter="category">
                类别
              </button>
              <button type="button" class="filter-btn" data-filter="tag">
                标签
              </button>
              <button type="button" class="filter-btn" data-filter="author">
                作者
              </button>
            </div>
          </div>
        </div>

        <!-- 工具内容区域 -->
        <div class="tools-content">
          <!-- 工具网格视图 -->
          <div class="tools-grid" id="toolsGrid">
            <!-- 工具卡片将通过JavaScript动态加载 -->
          </div>
          
          <!-- 聚合视图（类别、标签、作者） -->
          <div class="tools-aggregated-view" id="toolsAggregatedView" style="display: none;">
            <!-- 类别聚合视图 -->
            <div class="aggregated-view" id="categoryView" style="display: none;">
              <div class="aggregated-sidebar">
                <div class="aggregated-sidebar-header">
                  <h3>类别列表</h3>
                </div>
                <div class="aggregated-sidebar-list" id="categorySidebar">
                  <!-- 类别列表将通过JavaScript动态加载 -->
                </div>
              </div>
              <div class="aggregated-content">
                <div class="aggregated-content-header" id="categoryContentHeader">
                  <h3>请选择类别</h3>
                </div>
                <div class="aggregated-content-grid" id="categoryContentGrid">
                  <!-- 选中类别的工具将通过JavaScript动态加载 -->
                </div>
              </div>
            </div>

            <!-- 标签聚合视图 -->
            <div class="aggregated-view" id="tagView" style="display: none;">
              <div class="aggregated-header">
                <h3>按标签浏览</h3>
              </div>
              <div class="tag-cloud" id="tagCloud">
                <!-- 标签将通过JavaScript动态加载 -->
              </div>
              <div class="tag-tools-list" id="tagToolsList">
                <!-- 标签对应的工具列表将通过JavaScript动态加载 -->
              </div>
            </div>

            <!-- 作者聚合视图 -->
            <div class="aggregated-view" id="authorView" style="display: none;">
              <div class="aggregated-sidebar">
                <div class="aggregated-sidebar-header">
                  <h3>作者列表</h3>
                </div>
                <div class="aggregated-sidebar-list" id="authorSidebar">
                  <!-- 作者列表将通过JavaScript动态加载 -->
                </div>
              </div>
              <div class="aggregated-content">
                <div class="aggregated-content-header" id="authorContentHeader">
                  <h3>请选择作者</h3>
                </div>
                <div class="aggregated-content-grid" id="authorContentGrid">
                  <!-- 选中作者的工具将通过JavaScript动态加载 -->
                </div>
              </div>
            </div>
          </div>

          <!-- 空状态 -->
          <div class="tools-empty" id="toolsEmpty" style="display: none;">
            <div class="tools-empty-icon">🔧</div>
            <div class="tools-empty-text">暂无工具</div>
            <div class="tools-empty-hint">请上传工具包或添加工具</div>
          </div>
        </div>
      </div>

      <!-- 工具上传弹窗 -->
      <div id="toolsUploadModal" class="modal hidden">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h3>上传工具包</h3>
              <button type="button" class="modal-close" id="toolsUploadCloseBtn">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                  <path d="M15 5L5 15M5 5L15 15" stroke="currentColor" stroke-width="1.67" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>
            <div class="modal-body">
              <div class="upload-area" id="uploadArea">
                <div class="upload-content">
                  <div class="upload-icon">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                      <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                      <polyline points="17 8 12 3 7 8"></polyline>
                      <line x1="12" y1="3" x2="12" y2="15"></line>
                    </svg>
                  </div>
                  <div class="upload-text">
                    <p class="upload-title">拖拽ZIP文件到此处或点击选择</p>
                    <p class="upload-subtitle">支持包含 README.md 和 {tool_name}.tool.js 的ZIP格式工具包</p>
                  </div>
                  <input type="file" id="fileInput" accept=".zip" style="display: none;" />
                  <button type="button" class="btn btn-outline" id="selectFileBtn">选择文件</button>
                </div>
                <div class="upload-progress" id="uploadProgress" style="display: none;">
                  <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                  </div>
                  <div class="progress-text" id="progressText">上传中...</div>
                </div>
              </div>
              <div class="upload-requirements">
                <h4>工具包要求：</h4>
                <ul>
                  <li>文件格式：.zip</li>
                  <li>必须包含：README.md 文件</li>
                  <li>必须包含：{tool_name}.tool.js 文件</li>
                  <li>文件名不支持中文和特殊字符</li>
                </ul>
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-light" id="toolsUploadCancelBtn">取消</button>
              <button type="button" class="btn btn-primary" id="toolsUploadConfirmBtn" disabled>上传</button>
            </div>
          </div>
        </div>
      </div>

      <!-- 工具详情弹窗 -->
      <div id="toolDetailModal" class="tool-detail-modal">
        <div class="tool-detail-content">
          <div class="tool-detail-header">
            <h2 class="tool-detail-title" id="toolDetailName">工具详情</h2>
            <button class="tool-detail-close" id="toolDetailClose" aria-label="关闭">×</button>
          </div>
          <div class="tool-detail-body">
            <div class="tool-detail-info" id="toolDetailInfo">
              <!-- 工具基本信息将通过JavaScript动态加载 -->
            </div>
            <div class="tool-detail-markdown" id="toolDetailContent">
              <div class="tool-detail-loading"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- 右侧编辑器 -->
      <div class="editor-container" id="promptsArea">
        <!-- 自定义空白内容区域 -->
        <div class="custom-blank-content" id="customBlankContent">
          <div class="blank-placeholder">
            <div class="blank-placeholder-body">
              <div class="blank-placeholder-emoji">📝</div>
              <p class="blank-placeholder-text">请选择左侧的 Prompt 或点击「<button type="button" id="newPromptBtnInBlankArea" class="blank-area-new-prompt-btn">新建 Prompt</button>」开始编辑</p>
            </div>
          </div>
          
          <!-- 推荐词卡片列表 -->
          <div class="recommended-prompts-section hidden" id="recommendedPromptsSection">
            <div class="recommended-prompts-header">
              <h3>推荐提示词</h3>
              <div class="recommended-prompts-nav">
                <button class="nav-arrow arrow-left disabled" id="recommendedPromptsLeft">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="15 18 9 12 15 6"></polyline>
                  </svg>
                </button>
                <button class="nav-arrow arrow-right" id="recommendedPromptsRight">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="9 18 15 12 9 6"></polyline>
                  </svg>
                </button>
              </div>
            </div>
            <div class="recommended-prompts-container">
              <div class="recommended-prompts-list" id="recommendedPromptsList">
                <!-- 推荐词卡片将通过JavaScript动态加载 -->
              </div>
            </div>
          </div>
        </div>
        
        <!-- Prompt 编辑区域（默认隐藏） -->
        <div id="promptEditorArea" style="display: none;">
          <div class="editor-header">
            <div class="editor-header-top">
              <button id="backToListBtn" class="btn btn-outline btn-icon" title="返回列表">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <rect x="3" y="3" width="7" height="7"></rect>
                  <rect x="14" y="3" width="7" height="7"></rect>
                  <rect x="14" y="14" width="7" height="7"></rect>
                  <rect x="3" y="14" width="7" height="7"></rect>
                </svg>
              </button>
              <input type="text" id="promptName" name="promptName" placeholder="Prompt 名称" />
              <div class="group-selector">
                <button type="button" id="promptGroupBtn" class="group-selector-btn" aria-haspopup="listbox" aria-expanded="false" aria-controls="promptGroupDropdown">
                  <span class="group-selector-label" style="display: none;">关联类目</span>
                  <span class="group-selector-value" id="promptGroupLabel">default</span>
                  <span class="group-selector-icon" aria-hidden="true">
                    <svg width="14" height="14" viewBox="0 0 20 20" fill="none">
                      <path d="M5 8L10 13L15 8" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                  </span>
                </button>
                <select id="promptGroup" class="group-selector-input" aria-hidden="true" tabindex="-1">
                  <!-- 选项将通过后端接口动态加载 -->
                </select>
                <div class="group-dropdown" id="promptGroupDropdown" role="dialog" aria-modal="false">
                  <div class="group-dropdown-search">
                    <input type="text" id="promptGroupSearch" placeholder="搜索类目..." autocomplete="off" />
                  </div>
                  <div class="group-dropdown-body">
                    <div class="group-cascader" id="promptGroupCascader"></div>
                    <div class="group-search-results" id="promptGroupSearchResults"></div>
                    <div class="group-dropdown-empty hidden" id="promptGroupEmpty">暂无匹配的类目</div>
                  </div>
                </div>
              </div>
              <div class="editor-controls">
                <div class="mode-toggle">
                  <button id="editModeBtn" class="mode-btn active" data-mode="edit">编辑</button>
                  <button id="previewModeBtn" class="mode-btn" data-mode="preview">预览</button>
                </div>
                <button id="saveBtn" class="btn btn-primary btn-sm">
                  保存
                </button>
              </div>
            </div>
          </div>

          <div class="editor-content">
            <textarea id="promptDescription" class="prompt-description" placeholder="Prompt 描述"></textarea>

            <section class="arguments-section collapsed" id="argumentsSection">
              <div class="arguments-header" id="argumentsHeaderToggle">
                <div class="arguments-title">
                  <button type="button" class="arguments-toggle" id="argumentsToggleBtn" aria-expanded="false">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                  </button>
                  <span>参数配置</span>
                  <span class="arguments-count" id="argumentsCount">(0)</span>
                </div>
                <div class="arguments-actions">
                  <button id="addArgumentBtn" class="btn btn-outline btn-sm" type="button">
                    新增
                  </button>
                </div>
              </div>
              <div class="arguments-list" id="argumentsList">
                <div class="arguments-empty">暂无参数，点击"新增"开始配置</div>
              </div>
            </section>
            <div class="editor-body" id="editorWorkspace">
              <div class="workspace-pane" id="editorPane">
                <div class="pane-header">编辑器</div>
                <div class="pane-content">
                  <textarea id="editor"></textarea>
                </div>
              </div>
              <div class="workspace-pane hidden" id="previewPane">
                <div class="pane-header">实时预览</div>
                <div class="pane-content preview">
                  <div class="preview-content" id="previewContent">
                    <p>选择或创建prompt开始编辑</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- 消息提示 -->
  <div id="toastContainer" class="toast-container"></div>

  <!-- 删除 Prompt 弹窗 -->
  <div id="deletePromptModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="deletePromptTitle">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h3 id="deletePromptTitle">删除 Prompt</h3>
          <button type="button" class="modal-close" id="deletePromptCloseBtn" aria-label="关闭">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
              <path d="M15 5L5 15M5 5L15 15" stroke="currentColor" stroke-width="1.67" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
        <div class="modal-body">
          <p style="font-size: 14px; color: var(--gray); line-height: 1.6;">
            确认删除 <span id="deletePromptName" style="color: var(--dark); font-weight: 600;"></span> 吗？该操作不可撤销。
          </p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-light" id="deletePromptCancelBtn">取消</button>
          <button type="button" class="btn btn-danger" id="deletePromptConfirmBtn">删除</button>
        </div>
      </div>
    </div>
  </div>

  <!-- 参数编辑弹窗 -->
  <div id="argumentModal" class="argument-modal hidden" role="dialog" aria-modal="true" aria-labelledby="argumentModalTitle">
    <div class="argument-modal-dialog">
      <div class="argument-modal-header">
        <h3 id="argumentModalTitle">新增参数</h3>
        <button type="button" id="argumentModalClose" class="argument-modal-close" aria-label="关闭">×</button>
      </div>
      <form id="argumentForm" class="argument-modal-form">
        <div class="argument-modal-body">
          <div class="argument-form-grid">
            <div class="form-field required-field">
              <label for="argumentNameInput">参数名称 <span class="required">*</span></label>
              <input type="text" id="argumentNameInput" name="argumentName" placeholder="例如：language" />
            </div>
            <div class="form-field">
              <label for="argumentTypeInput">类型</label>
              <input type="text" id="argumentTypeInput" name="argumentType" list="argumentTypeOptions" placeholder="例如：string" />
            </div>
            <div class="form-field">
              <label for="argumentDefaultInput">默认值</label>
              <input type="text" id="argumentDefaultInput" name="argumentDefault" placeholder="可选" />
            </div>
            <div class="form-field form-field-inline">
              <label class="checkbox-field">
                <input type="checkbox" id="argumentRequiredInput" />
                <span>必填</span>
              </label>
            </div>
            <div class="form-field full-width">
              <label for="argumentDescriptionInput">参数说明</label>
              <textarea id="argumentDescriptionInput" rows="3" placeholder="用于提示词中的描述"></textarea>
            </div>
          </div>
        </div>
        <div class="argument-modal-footer">
          <button type="button" class="btn btn-outline" id="argumentCancelBtn">取消</button>
          <button type="submit" class="btn btn-primary">保存</button>
        </div>
      </form>
    </div>
  </div>

  <datalist id="argumentTypeOptions">
    <option value="string">字符串</option>
    <option value="number">数字</option>
    <option value="boolean">布尔值</option>
  </datalist>

  <!-- 加载中覆盖层 -->
  <div id="loadingOverlay" class="loading-overlay hidden">
    <div class="loading-spinner"></div>
    <div class="loading-text">正在加载中...</div>
    <div class="loading-subtext">请稍候，正在获取数据</div>
  </div>

  <!-- 推荐词详情弹窗 -->
  <div id="recommendedPromptModal" class="recommended-prompt-modal hidden">
    <div class="recommended-prompt-modal-content">
      <div class="recommended-prompt-modal-header">
        <h3 id="recommendedPromptTitle">
          <svg class="modal-title-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#666666" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
          </svg>
          <span class="modal-title-text">推荐提示词</span>
        </h3>
        <button class="recommended-prompt-modal-close" id="recommendedPromptClose">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>
      <div class="recommended-prompt-modal-body">
        <div class="prompt-detail-description" id="recommendedPromptDescription"></div>
        <div class="prompt-detail-content" id="recommendedPromptContent"></div>
      </div>
      <div class="recommended-prompt-modal-footer">
        <button class="sync-to-my-prompts-btn" id="syncToMyPromptsBtn">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
          </svg>
          一键同步
        </button>
      </div>
    </div>
  </div>

  <!-- 同步到我的提示词弹窗 -->
  <div id="syncPromptModal" class="sync-prompt-modal hidden">
    <div class="sync-prompt-modal-content">
      <div class="sync-prompt-modal-header">
        <h3>
          <svg class="modal-title-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#666666" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
          </svg>
          <span class="modal-title-text">同步到我的提示词</span>
        </h3>
        <button class="sync-prompt-modal-close" id="syncPromptClose">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>
      <div class="sync-prompt-modal-body">
        <form class="sync-prompt-form" id="syncPromptForm">
          <div class="form-group">
            <label for="syncPromptName">提示词名称</label>
            <input type="text" id="syncPromptName" name="name" placeholder="请输入提示词名称" required>
          </div>
          <div class="form-group">
            <label for="syncPromptGroup">选择目录</label>
            <select id="syncPromptGroup" name="group" required>
              <option value="">请选择目录</option>
              <!-- 目录选项将通过JavaScript动态加载 -->
            </select>
          </div>
        </form>
      </div>
      <div class="sync-prompt-modal-footer">
        <button class="btn btn-light" id="syncPromptCancel">取消</button>
        <button class="btn btn-primary" id="syncPromptConfirm">同步</button>
      </div>
    </div>
  </div>
</body>
</html>